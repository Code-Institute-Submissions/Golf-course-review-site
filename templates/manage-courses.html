{%extends 'base.html'%}
{%block content%}
<h2>Manage Courses</h2>

<div class="container">
    <div class="row">
        <div class="col s12">
            <a href="{{url_for('add_course')}}" class="btn-floating btn-large waves-effect waves-light red"><i
                    class="material-icons">add</i></a> Add
            Task
        </div>
    </div>
</div>

<div class="container">
    <ul class="collapsible">
        {%for course in pagination.results%}
        <li>
            <!--Container for the course's-->
            <div class="collapsible-header">
                <div class="row">

                    <!--Header for the course container-->
                    <div class="col s10">
                        <ul>
                            <li>Course: {{course.course_name}}</li>
                            <li>Par: {{course.par}}</li>
                            <li>Location: {{course.region}}</li>
                            <li>Avg Rating:
                                {% for star in range(5) %}
                                {% if loop.index <= course.avg_rating %}
                                <i class="material-icons gold-star">star</i>
                                {% else %}
                                <i class="material-icons grey-star">star</i>
                                {% endif %}
                                {% endfor %}
                                <span>({{course.num_reviews}})</span>
                            </li>
                        </ul>

                    </div>

                    <div class="col s2">
                        <a onclick="return confirm('Are you sure you want to delete this course?');"
                            href="{{url_for('delete_course',course_id = course._id)}}"
                            class="modal-trigger del-btn waves-effect waves-light btn btn_small">Delete</a>
                        <a href="{{url_for('edit_course', course_id = course._id)}}"
                            class="waves-effect waves-light btn btn_small blue">Edit</a>
                        <i class="material-icons">expand_more</i>
                    </div>


                </div>
            </div>
            <div class="collapsible-body"><span>{{course.description}}</span></div>
        </li>
        {%endfor%}
    </ul>

    <ul id="course-pagination" class="pagination">
        {% if pagination.prevUrl == True %}
        <li class="waves-effect chev-prev"><a href="{{url_for('manage_courses', load= False ,dir='prev')}}"><i
                    class="material-icons">chevron_left</i></a></li>
        {% else %}
        <li class="waves-effect chev-prev disabled"><a href="{{url_for('manage_courses', load= False ,dir='prev')}}"><i
                    class="material-icons">chevron_left</i></a></li>
        {% endif %}
        {% if pagination.nextUrl == True %}
        <li class="waves-effect chev-next"><a href="{{url_for('manage_courses', load= False ,dir='next')}}"><i
                    class="material-icons">chevron_right</i></a></li>

        {% else %}
        <li class="chev-next disabled"><a href="{{url_for('manage_courses', load= False ,dir='next')}}"><i
                    class="material-icons">chevron_right</i></a></li>
        {% endif %}
    </ul>


</div>





{% endblock %}
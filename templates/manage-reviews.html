{%extends 'base.html'%}
{%block content%}
<h2>Your Reviews</h2>



<div class="container">
    <ul class="collapsible">
        {% for review in pagination.results %}
        <li>
            <!--Container for the course's-->
            <div class="collapsible-header">
                <div class="row">
                    <div class="col s1">

                        <i class="material-icons">expand_more</i>
                    </div>
                    <!--Header for the course container-->
                    <div class="col s11">

                        {% for course in courses %}
                        {% if review.course_id == course._id %}
                        <h4>{{course.course_name}}</h4>
                        {% endif %}
                        {% endfor %}

                        <ul>
                            <li>Title: {{review.review_title}}</li>
                            <li>Date: {{review.date}}</li>
                            <li>Rating:
                                {% for star in range(5) %}
                                {% if loop.index <= review.star_rating %}
                                <i class="material-icons gold-star">star</i>
                                {% else %}
                                <i class="material-icons grey-star">star</i>
                                {% endif %}
                                {% endfor %}
                            </li>
                        </ul>

                        <a href="{{url_for('edit_review', review_id = review._id)}}" class="waves-effect waves-light btn btn_small blue">Edit</a>

                        <a data-target="delete-modal"
                            onclick="return confirm('Are you sure you want to delete this course?');" href="{{url_for('delete_review',review_id = review._id, course_id = review.course_id)}}"
                            class="modal-trigger del-btn waves-effect waves-light btn btn_small">Delete</a>


                    </div>


                </div>
            </div>
            <div class="collapsible-body"><span>{{review.review_article}}</span></div>
        </li>
        {%endfor%}
    </ul>

    <ul class="pagination">
        {% if pagination.prevUrl == True %}
        <li class="waves-effect chev-prev"><a href="{{url_for('manage_reviews', load= False ,dir='prev')}}"><i
                    class="material-icons">chevron_left</i></a></li>
        {% else %}
        <li class="waves-effect chev-prev disabled"><a href="{{url_for('manage_reviews', load= False ,dir='prev')}}"><i
                    class="material-icons">chevron_left</i></a></li>
        {% endif %}
        {% if pagination.nextUrl == True %}
        <li class="waves-effect chev-next"><a href="{{url_for('manage_reviews', load= False ,dir='next')}}"><i
                    class="material-icons">chevron_right</i></a></li>

        {% else %}
        <li class="chev-next disabled"><a href="{{url_for('manage_reviews', load= False ,dir='next')}}"><i
                    class="material-icons">chevron_right</i></a></li>
        {% endif %}
    </ul>

</div>





{% endblock %}